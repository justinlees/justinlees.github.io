{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\untitled folder\\\\src\\\\components\\\\Settings.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Form, useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport '../styles/Settings.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Settings = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    OldPassword: '',\n    NewPassword: '',\n    ReNewPassword: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigate = useNavigate();\n  function handleInputChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  }\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const validationErrors = validatePassword(formData);\n    setErrors(validationErrors);\n    if (Object.keys(validationErrors).length === 0) {\n      const token = localStorage.getItem('token');\n      try {\n        const res = await axios.post(\"http://localhost:5500/updatePassword\", formData, {\n          headers: {\n            Authorization: `${token}`\n          }\n        });\n        if (res.status === 200) {\n          setSuccessMessage(\"Password updated successfully.\");\n          navigate('/login');\n        } else {\n          setErrors({\n            submit: 'Password update failed. Please try again.'\n          });\n        }\n      } catch (error) {\n        setErrors({\n          submit: 'An error occurred. Please try again later.'\n        });\n      }\n    }\n  }\n  function validatePassword(data) {\n    const currentErrors = {};\n    const passwordRegEx = /^[a-zA-Z0-9]{8,}$/;\n    if (!data.OldPassword) {\n      currentErrors.OldPassword = \"Old password is required\";\n    }\n    if (!passwordRegEx.test(data.NewPassword)) {\n      currentErrors.NewPassword = \"Password must be at least 8 characters long and contain only letters and numbers.\";\n    }\n    if (data.NewPassword !== data.ReNewPassword) {\n      currentErrors.ReNewPassword = \"Passwords do not match.\";\n    }\n    return currentErrors;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Settings\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Change Your Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      className: \"changePasswordForm\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Old Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"oldPassword\",\n        name: \"OldPassword\",\n        placeholder: \"Enter Your Old Password\",\n        value: formData.OldPassword,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), (errors === null || errors === void 0 ? void 0 : errors.OldPassword) && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error\",\n        children: errors.OldPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"New Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"newPassword\",\n        name: \"NewPassword\",\n        placeholder: \"Enter Your New Password\",\n        value: formData.NewPassword,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), (errors === null || errors === void 0 ? void 0 : errors.NewPassword) && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error\",\n        children: errors.NewPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"ReNew Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"reNewPassword\",\n        name: \"ReNewPassword\",\n        placeholder: \"Enter Your New Password Again\",\n        value: formData.ReNewPassword,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), (errors === null || errors === void 0 ? void 0 : errors.ReNewPassword) && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error\",\n        children: errors.ReNewPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 43\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submitButton\",\n        type: \"submit\",\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), (errors === null || errors === void 0 ? void 0 : errors.submit) && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error\",\n        children: errors.submit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 36\n      }, this), successMessage && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"success\",\n        children: successMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n_s(Settings, \"zD8JPl+aUfNB/HyqzOzRAEa9tcU=\", false, function () {\n  return [useNavigate];\n});\n_c = Settings;\nexport default Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["React","Form","useNavigate","useState","axios","jsxDEV","_jsxDEV","Settings","_s","formData","setFormData","OldPassword","NewPassword","ReNewPassword","errors","setErrors","successMessage","setSuccessMessage","navigate","handleInputChange","event","name","value","target","prevData","handleSubmit","preventDefault","validationErrors","validatePassword","Object","keys","length","token","localStorage","getItem","res","post","headers","Authorization","status","submit","error","data","currentErrors","passwordRegEx","test","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/untitled folder/src/components/Settings.jsx"],"sourcesContent":["import React from 'react';\nimport { Form, useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport '../styles/Settings.css'\n\nconst Settings = () => {\n    const [formData, setFormData] = useState({\n        OldPassword: '',\n        NewPassword: '',\n        ReNewPassword: ''\n    });\n    const [errors, setErrors] = useState({});\n    const [successMessage, setSuccessMessage] = useState('');\n    const navigate = useNavigate();\n\n    function handleInputChange(event) {\n        const { name, value } = event.target;\n        setFormData(prevData => ({\n            ...prevData,\n            [name]: value\n        }));\n    }\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n\n        const validationErrors = validatePassword(formData);\n        setErrors(validationErrors);\n\n        if (Object.keys(validationErrors).length === 0) {\n            const token = localStorage.getItem('token');\n            try {\n\n                const res = await axios.post(\n                    \"http://localhost:5500/updatePassword\",\n                    formData,\n                    {\n                        headers: {\n                            Authorization: `${token}`\n                        }\n                    }\n                );\n\n                if (res.status === 200) {\n                    setSuccessMessage(\"Password updated successfully.\");\n                    navigate('/login');\n                } else {\n                    setErrors({ submit: 'Password update failed. Please try again.' });\n                }\n            } catch (error) {\n                setErrors({ submit: 'An error occurred. Please try again later.' });\n            }\n        }\n    }\n\n    function validatePassword(data) {\n        const currentErrors = {};\n        const passwordRegEx = /^[a-zA-Z0-9]{8,}$/;\n\n        if (!data.OldPassword) {\n            currentErrors.OldPassword = \"Old password is required\";\n        }\n\n        if (!passwordRegEx.test(data.NewPassword)) {\n            currentErrors.NewPassword = \"Password must be at least 8 characters long and contain only letters and numbers.\";\n        }\n\n        if (data.NewPassword !== data.ReNewPassword) {\n            currentErrors.ReNewPassword = \"Passwords do not match.\";\n        }\n\n        return currentErrors;\n    }\n\n    return (\n        <div className='Settings'>\n            <h3>Change Your Password</h3>\n            <Form className='changePasswordForm' onSubmit={handleSubmit}>\n                <label>Old Password</label>\n                <input\n                    type=\"password\"\n                    className='oldPassword'\n                    name=\"OldPassword\"\n                    placeholder='Enter Your Old Password'\n                    value={formData.OldPassword}\n                    onChange={handleInputChange}\n                />\n                {errors?.OldPassword && <span className='error'>{errors.OldPassword}</span>}\n                <label>New Password</label>\n                <input\n                    type=\"password\"\n                    className='newPassword'\n                    name=\"NewPassword\"\n                    placeholder='Enter Your New Password'\n                    value={formData.NewPassword}\n                    onChange={handleInputChange}\n                />\n                {errors?.NewPassword && <span className='error'>{errors.NewPassword}</span>}\n                <label>ReNew Password</label>\n                <input\n                    type=\"password\"\n                    className='reNewPassword'\n                    name=\"ReNewPassword\"\n                    placeholder='Enter Your New Password Again'\n                    value={formData.ReNewPassword}\n                    onChange={handleInputChange}\n                />\n                {errors?.ReNewPassword && <span className='error'>{errors.ReNewPassword}</span>}\n\n                <button className='submitButton' type='submit'>Change Password</button>\n\n                {errors?.submit && <span className='error'>{errors.submit}</span>}\n                {successMessage && <span className='success'>{successMessage}</span>}\n            </Form>\n        </div>\n    );\n}\n\nexport default Settings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}